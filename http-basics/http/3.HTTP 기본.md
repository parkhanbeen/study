# HTTP 기본

## HTTP(HyperText Transfer Protocol) 이란?
* ```HTTP(Hypertext Transfer Protocol)```는 인터넷상에서 데이터를 주고 받기 위한 서버/클라이언트 모델을 따르는 프로토콜이다.
* 애플리케이션 레벨의 프로토콜로 ```TCP/IP```위에서 작동한다.
* ```HTTP```는 어떤 종류의 데이터든지 전송할 수 있도록 설계돼 있다.
* ```HTTP```로 보낼 수 있는 데이터는 ```HTML문서, 이미지, 동영상, 오디오, 텍스트 문서``` 등 거의 모든 데이터를 전송할 수 있다.
  하이퍼텍스트 기반으로(Hypertext) 데이터를 전송하겠다(Transfer) = 링크기반으로 데이터에 접속하겠다는 의미이다.

### HTTP 역사
* HTTP/0.9 1991년: GET 메서드만 지원, HTTP 헤더X
* HTTP/1.0 1996년: 메서드, 헤더 추가
* HTTP/1.1 1997년: 가장 많이 사용, 우리에게 가장 중요한 버전
  * RFC2068 (1997) -> RFC2616 (1999) -> RFC7230~7235 (2014)
  * 대부분의 기능이 HTTP/1.1 스펙에 들어있다.
* HTTP/2 2015년: 성능 개선
* HTTP/3 진행중: ```TCP``` 대신에 ```UDP``` 사용, 성능 개선

### HTTP 특징
* 클라이언트 서버 구조
* 무상태 프로토콜(스테이스리스), 비연결성
* HTTP 메시지
* 단순함, 확장 가능

### 클라이언트 서버 구조
* Request Response 구조
* 클라이언트는 서버에 요청을 보내고, 응답을 대기
* 서버가 요청에 대한 결과를 만들어서 응답

### 클라이언트와 서버의 분리
```
오래전에는 서버와 클라이언트가 분리되어있지 않았다.
이후 클라이언트/서버 분리로 클라이언트와 서버는 독립적으로 발전,진화 가능하다. 
서버에서 비지니스 로직과 데이터 처리를 관리하고 클라이언트는 UI와 사용성에 집중한다.
클라이언트는 복잡한 비지니스로직과 데이터를 다룰 필요 없고, UI와 UX 등에 집중할 수 있다. 
반대로 서버는 아키텍처와 트래픽에 대한 고민만 할 수 있게된다.
```

## 무상태 프로토콜(Stateless) 이란?
* ```Stateless``` 상태를 유지하지 않는다는 뜻이다.
* 서버가 클라이언트의 상태를 보존하지 않는다.
* 서버의 확장성을 높일수 있지만 클라이언트에서 추가로 데이터를 전송해야한다.

### Stateful / Stateless 차이
* ```Stateful```
  * 항상 같은 서버가 유지되어야한다.
  * 중간에 서버 장애가 나면 클라이언트는 요청을 처음부터 다시 해야한다.
* ```Stateless```
  * 갑자기 클라이언트 요청이 증가해도 서버를 대거 투입할 수 있다.
  * 무상태는 응답 서버를 쉽게 바꿀 수 있다. → 무한한 서버 증설 가능.(스케일아웃에 유리함)

### Stateless 한계
* 모든 것을 무상태로 설계 할 수 있는 경우도 있고 없는 경우도 있다.
* 무상태
  * 예) 로그인이 필요 없는 단순한 서비스 소개 화면 등등..
* 상태 유지
  * 예) 로그인 등등..
* 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지
* 일반적으로 브라우저 쿠키와 서버 세션등을 사용해서 상태 유지
* 상태 유지는 최소한만 사용
* 클라이언트에서 데이터를 많이 보내야하는 단점을 가진다.